## API Report File for "@itwin/presentation-hierarchies-react"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ComponentProps } from 'react';
import { ComponentPropsWithoutRef } from 'react';
import { createIModelHierarchyProvider } from '@itwin/presentation-hierarchies';
import { FC } from 'react';
import { GenericInstanceFilter } from '@itwin/presentation-hierarchies';
import { GenericNodeKey } from '@itwin/presentation-hierarchies';
import { getLogger } from '@itwin/presentation-hierarchies';
import { HierarchyDefinition } from '@itwin/presentation-hierarchies';
import { HierarchyNode } from '@itwin/presentation-hierarchies';
import { HierarchyProvider } from '@itwin/presentation-hierarchies';
import { HierarchySearchPath } from '@itwin/presentation-hierarchies';
import { InstanceKey } from '@itwin/presentation-shared';
import { IPrimitiveValueFormatter } from '@itwin/presentation-shared';
import { JSX as JSX_2 } from 'react/jsx-runtime';
import { NamedExoticComponent } from 'react';
import { NonGroupingHierarchyNode } from '@itwin/presentation-hierarchies';
import { Props } from '@itwin/presentation-shared';
import { PropsWithChildren } from 'react';
import { PropsWithoutRef } from 'react';
import { ReactElement } from 'react';
import { ReactNode } from 'react';
import { RefAttributes } from 'react';
import { Selectable } from '@itwin/unified-selection';
import { SelectionStorage } from '@itwin/unified-selection';
import { setLogger } from '@itwin/presentation-hierarchies';
import { Tree } from '@stratakit/structures';

// @public
interface ChildrenLoadErrorInfo {
    // (undocumented)
    id: string;
    // (undocumented)
    message: string;
    // (undocumented)
    type: "ChildrenLoad";
}

// @alpha (undocumented)
interface CommonRendererProps {
    getHierarchyLevelDetails: (nodeId: string | undefined) => HierarchyLevelDetails | undefined;
    reloadTree: (options?: ReloadTreeOptions) => void;
}

// @alpha (undocumented)
interface EditingProps {
    // (undocumented)
    labelValidationHint?: string;
    onLabelChanged: (newLabel: string) => void;
    // (undocumented)
    validate?: (newLabel: string) => boolean;
}

// @public
export type ErrorInfo = GenericErrorInfo | ResultSetTooLargeErrorInfo | NoFilterMatchesErrorInfo | ChildrenLoadErrorInfo;

// @alpha
interface ErrorItem {
    // (undocumented)
    errorNode: PresentationHierarchyNode & Pick<Required<PresentationHierarchyNode>, "error">;
    // (undocumented)
    expandTo: (expandNode: (nodeId: string) => void) => void;
}

// @alpha
export function ErrorItemRenderer({ errorItem, getHierarchyLevelDetails, onFilterClick, reloadTree, scrollToElement }: ErrorItemRendererProps): JSX_2.Element;

// @alpha (undocumented)
interface ErrorItemRendererProps extends Pick<TreeRendererProps, "getHierarchyLevelDetails"> {
    // (undocumented)
    errorItem: ErrorItem;
    onFilterClick?: (hierarchyLevelDetails: HierarchyLevelDetails) => void;
    reloadTree: (options: {
        parentNodeId: string | undefined;
        state: "reset";
    }) => void;
    scrollToElement: (errorNode: ErrorItem) => void;
}

// @alpha
interface FlatPlaceholderItem {
    // (undocumented)
    id: string;
    // (undocumented)
    level: number;
    // (undocumented)
    placeholder: true;
}

// @alpha
export type FlatTreeItem = FlatTreeNodeItem | FlatPlaceholderItem;

// @alpha
interface FlatTreeNodeItem {
    // (undocumented)
    id: string;
    // (undocumented)
    level: number;
    // (undocumented)
    levelSize: number;
    // (undocumented)
    node: PresentationHierarchyNode;
    // (undocumented)
    posInLevel: number;
}

// @public
export interface GenericErrorInfo {
    // (undocumented)
    additionalData?: unknown;
    // (undocumented)
    id: string;
    // (undocumented)
    message: string;
    // (undocumented)
    type: "Unknown";
}

export { GenericInstanceFilter }

export { getLogger }

// @public
export interface HierarchyLevelDetails {
    getInstanceKeysIterator: (props?: {
        instanceFilter?: GenericInstanceFilter;
        hierarchyLevelSizeLimit?: number | "unbounded";
    }) => AsyncIterableIterator<InstanceKey>;
    hierarchyNode: HierarchyNode | undefined;
    instanceFilter?: GenericInstanceFilter;
    setInstanceFilter: (filter: GenericInstanceFilter | undefined) => void;
    setSizeLimit: (value: undefined | number | "unbounded") => void;
    sizeLimit?: number | "unbounded";
}

export { HierarchyNode }

export { HierarchyProvider }

// @public (undocumented)
type IModelAccess = IModelHierarchyProviderProps["imodelAccess"];

// @public (undocumented)
type IModelHierarchyProviderProps = Props<typeof createIModelHierarchyProvider>;

// @public
export function LocalizationContextProvider({ localizedStrings, children }: PropsWithChildren<LocalizationContextProviderProps>): JSX_2.Element;

// @public
interface LocalizationContextProviderProps {
    localizedStrings?: Partial<LocalizedStrings>;
}

// @public
interface LocalizedStrings {
    cancel: string;
    clearHierarchyLevelFilter: string;
    confirm: string;
    failedToCreateHierarchy: string;
    failedToCreateRootHierarchy: string;
    filterHierarchyLevel: string;
    filterHierarchyLevelActiveDescription: string;
    increaseHierarchyLimit: string;
    increaseHierarchyLimitToUnlimited: string;
    increaseHierarchyLimitWithFiltering: string;
    issuesForTree: string;
    issuesFound: string;
    loading: string;
    more: string;
    noFilteredChildren: string;
    noFilteredChildrenChangeFilter: string;
    noIssuesFound: string;
    rename: string;
    resultLimitExceeded: string;
    retry: string;
    rootResultLimitExceeded: string;
}

// @public
interface NoFilterMatchesErrorInfo {
    // (undocumented)
    id: string;
    // (undocumented)
    type: "NoFilterMatches";
}

// @public
export interface PresentationHierarchyNode {
    // (undocumented)
    children: true | Array<PresentationHierarchyNode>;
    error?: ErrorInfo;
    // (undocumented)
    id: string;
    // (undocumented)
    isExpanded: boolean;
    // (undocumented)
    isFilterable: boolean;
    // (undocumented)
    isFiltered: boolean;
    // (undocumented)
    isLoading: boolean;
    // (undocumented)
    label: string;
    nodeData: HierarchyNode;
}

// @public
interface ReloadTreeOptions {
    parentNodeId: string | undefined;
    state?: "keep" | "discard" | "reset";
}

// @alpha
type RendererProps = {
    rootErrorRendererProps: RootErrorRendererProps;
} | {
    rootErrorRendererProps: undefined;
    treeRendererProps?: TreeRendererProps;
};

// @public
export interface ResultSetTooLargeErrorInfo {
    // (undocumented)
    id: string;
    // (undocumented)
    resultSetSizeLimit: number;
    // (undocumented)
    type: "ResultSetTooLarge";
}

// @alpha
type RootErrorRendererProps = {
    error: ErrorInfo;
} & CommonRendererProps;

// @public
type SelectionChangeType = "add" | "replace" | "remove";

// @public
type SelectionMode_2 = "none" | "single" | "extended" | "multiple";

export { SelectionStorage }

export { setLogger }

// @alpha
export function StrataKitRootErrorRenderer({ error, getHierarchyLevelDetails, reloadTree }: StrataKitRootErrorRendererProps): JSX_2.Element;

// @alpha (undocumented)
type StrataKitRootErrorRendererProps = {
    error: ErrorInfo;
} & RootErrorRendererProps;

// @alpha (undocumented)
type StrataKitTreeItemProps = Omit<ComponentPropsWithoutRef<typeof Tree.Item>, "actions" | "inlineActions" | "expanded" | "onExpandedChange" | "icon" | "unstable_decorations" | "error"> & {
    decorations?: ReactNode;
};

// @alpha
export const StrataKitTreeRenderer: FC<PropsWithoutRef<StrataKitTreeRendererProps> & RefAttributes<StrataKitTreeRendererAttributes>>;

// @alpha (undocumented)
export interface StrataKitTreeRendererAttributes {
    renameNode: (predicate: (node: PresentationHierarchyNode) => boolean) => "node-not-found" | "success";
}

// @alpha (undocumented)
type StrataKitTreeRendererProps = TreeRendererProps & Pick<TreeErrorRendererProps, "onFilterClick"> & TreeRendererOwnProps & ComponentPropsWithoutRef<typeof LocalizationContextProvider>;

// @alpha
export const TreeActionBase: NamedExoticComponent<TreeActionBaseProps>;

// @alpha
export interface TreeActionBaseAttributes {
    hide?: boolean;
    variant?: "default" | "inline" | "context-menu";
}

// @alpha (undocumented)
type TreeActionBaseProps = ComponentProps<typeof Tree.ItemAction> & TreeActionBaseAttributes;

// @alpha
interface TreeErrorItemProps {
    onFilterClick?: (hierarchyLevelDetails: HierarchyLevelDetails) => void;
    reloadTree: (options: {
        parentNodeId: string | undefined;
        state: "reset";
    }) => void;
    scrollToElement: (errorNode: ErrorItem) => void;
}

// @alpha
export function TreeErrorRenderer({ treeLabel, errorList, reloadTree, scrollToElement, getHierarchyLevelDetails, onFilterClick, renderError, }: TreeErrorRendererProps): JSX_2.Element;

// @alpha
interface TreeErrorRendererOwnProps {
    errorList: ErrorItem[];
    renderError?: (props: ErrorItemRendererProps) => ReactElement;
    treeLabel: string;
}

// @alpha (undocumented)
type TreeErrorRendererProps = TreeErrorRendererOwnProps & TreeErrorItemProps & Pick<TreeRendererProps, "getHierarchyLevelDetails">;

// @alpha
export const TreeNodeFilterAction: NamedExoticComponent<    {
onFilter?: (hierarchyLevelDetails: HierarchyLevelDetails) => void;
} & TreeActionBaseAttributes & Pick<TreeRendererProps, "getHierarchyLevelDetails"> & {
node: PresentationHierarchyNode;
}>;

// @alpha
export const TreeNodeRenameAction: NamedExoticComponent<TreeActionBaseAttributes & {
node: PresentationHierarchyNode;
}>;

// @alpha (undocumented)
interface TreeRendererOwnProps {
    errorRenderer?: (props: TreeErrorRendererProps) => ReactElement;
    getContextMenuActions?: (props: {
        targetNode: PresentationHierarchyNode;
        selectedNodes: PresentationHierarchyNode[];
    }) => ReactNode[];
    getEditingProps?: (node: PresentationHierarchyNode) => EditingProps | undefined;
    getInlineActions?: (props: {
        targetNode: PresentationHierarchyNode;
        selectedNodes: PresentationHierarchyNode[];
    }) => ReactNode[];
    getMenuActions?: (props: {
        targetNode: PresentationHierarchyNode;
        selectedNodes: PresentationHierarchyNode[];
    }) => ReactNode[];
    getTreeItemProps?: (node: PresentationHierarchyNode) => Partial<Omit<StrataKitTreeItemProps, "selected" | "aria-level" | "aria-posinset" | "aria-setsize">>;
    // (undocumented)
    id?: string;
    selectionMode?: SelectionMode_2;
    treeLabel: string;
    treeRootProps?: Partial<Omit<ComponentProps<typeof Tree.Root>, "style">>;
}

// @alpha
export type TreeRendererProps = {
    rootNodes: PresentationHierarchyNode[];
    expandNode: (nodeId: string, isExpanded: boolean) => void;
    selectNodes: (nodeIds: Array<string>, changeType: SelectionChangeType) => void;
    isNodeSelected: (nodeId: string) => boolean;
} & CommonRendererProps;

// @alpha
export function useErrorList(rootNodes: PresentationHierarchyNode[]): ErrorItem[];

// @alpha
export function useFlatTreeItems(rootNodes: PresentationHierarchyNode[]): FlatTreeItem[];

// @public
export function useIModelTree(props: UseIModelTreeProps): UseTreeResult;

// @public
type UseIModelTreeProps = Omit<UseTreeProps, "getHierarchyProvider" | "getSearchPaths"> & Pick<IModelHierarchyProviderProps, "localizedStrings" | "imodelAccess" | "imodelChanged"> & {
    getHierarchyDefinition: (props: {
        imodelAccess: IModelAccess;
    }) => HierarchyDefinition;
    getSearchPaths?: (props: {
        imodelAccess: IModelAccess;
        abortSignal: AbortSignal;
    }) => Promise<HierarchySearchPath[] | undefined>;
};

// @public
export function useIModelUnifiedSelectionTree(props: UseIModelTreeProps & UseUnifiedTreeSelectionProps): UseTreeResult;

// @alpha
export function useNodeHighlighting({ highlightText }: UseNodeHighlightingProps): UseNodeHighlightingResult;

// @alpha
interface UseNodeHighlightingProps {
    highlightText?: string;
}

// @alpha
interface UseNodeHighlightingResult {
    getLabel: (node: PresentationHierarchyNode) => React.ReactElement;
}

// @public
export function useSelectionHandler(props: UseSelectionHandlerProps): UseSelectionHandlerResult;

// @alpha
type UseSelectionHandlerProps = Pick<TreeRendererProps, "selectNodes" | "rootNodes"> & {
    selectionMode: SelectionMode_2;
};

// @public
interface UseSelectionHandlerResult {
    onNodeClick: (node: PresentationHierarchyNode, isSelected: boolean, event: React.MouseEvent<HTMLElement, MouseEvent>) => void;
    onNodeKeyDown: (node: PresentationHierarchyNode, isSelected: boolean, event: React.KeyboardEvent<HTMLElement>) => void;
}

// @public
export function useTree(props: UseTreeProps): UseTreeResult;

// @public (undocumented)
interface UseTreeProps {
    getHierarchyProvider: () => HierarchyProvider;
    getSearchPaths?: ({ abortSignal }: {
        abortSignal: AbortSignal;
    }) => Promise<HierarchySearchPath[] | undefined>;
    onHierarchyLimitExceeded?: (props: {
        parentId?: string;
        filter?: GenericInstanceFilter;
        limit?: number | "unbounded";
    }) => void;
    onHierarchyLoadError?: (props: {
        parentId?: string;
        type: "timeout" | "unknown";
        error: unknown;
    }) => void;
    onPerformanceMeasured?: (action: "initial-load" | "hierarchy-level-load" | "reload", duration: number) => void;
}

// @public (undocumented)
type UseTreeResult = {
    isReloading: boolean;
    getNode: (nodeId: string) => PresentationHierarchyNode | undefined;
    setFormatter: (formatter: IPrimitiveValueFormatter | undefined) => void;
} & RendererProps;

// @public
export function useUnifiedSelectionTree({ sourceName, selectionStorage, createSelectableForGenericNode, ...props }: UseTreeProps & UseUnifiedTreeSelectionProps): UseTreeResult;

// @public (undocumented)
interface UseUnifiedTreeSelectionProps {
    createSelectableForGenericNode?: (node: NonGroupingHierarchyNode & {
        key: GenericNodeKey;
    }, treeModelNodeId: string) => Selectable;
    selectionStorage: SelectionStorage;
    sourceName: string;
}

// (No @packageDocumentation comment for this package)

```
