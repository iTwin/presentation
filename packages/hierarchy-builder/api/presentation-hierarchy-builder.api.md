## API Report File for "@itwin/presentation-hierarchy-builder"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @beta
export class BisInstanceLabelSelectClauseFactory implements IInstanceLabelSelectClauseFactory {
    constructor(props: BisInstanceLabelSelectClauseFactoryProps);
    // (undocumented)
    createSelectClause(props: CreateInstanceLabelSelectClauseProps): Promise<string>;
}

// @beta
export interface BisInstanceLabelSelectClauseFactoryProps {
    // (undocumented)
    metadataProvider: IMetadataProvider;
}

// @beta
export interface ClassBasedHierarchyDefinition {
    childNodes: Array<ClassBasedHierarchyLevelDefinition>;
    rootNodes: () => Promise<HierarchyLevelDefinition>;
}

// @beta
export interface ClassBasedHierarchyDefinitionsFactoryProps {
    hierarchy: ClassBasedHierarchyDefinition;
    metadataProvider: IMetadataProvider;
}

// @beta
export type ClassBasedHierarchyLevelDefinition = InstancesNodeChildHierarchyLevelDefinition | CustomNodeChildHierarchyLevelDefinition;

// @beta
export class ClassBasedHierarchyLevelDefinitionsFactory<TNode extends HierarchyNode = HierarchyNode> implements IHierarchyLevelDefinitionsFactory<TNode> {
    constructor(props: ClassBasedHierarchyDefinitionsFactoryProps);
    defineHierarchyLevel(parentNode: HierarchyNode | undefined): Promise<HierarchyLevelDefinition>;
}

// @beta
export class ClassBasedInstanceLabelSelectClauseFactory implements IInstanceLabelSelectClauseFactory {
    constructor(props: ClassBasedInstanceLabelSelectClauseFactoryProps);
    // (undocumented)
    createSelectClause(props: CreateInstanceLabelSelectClauseProps): Promise<string>;
}

// @beta
export interface ClassBasedInstanceLabelSelectClauseFactoryProps {
    clauses: ClassBasedLabelSelectClause[];
    // @internal (undocumented)
    defaultClauseFactory?: IInstanceLabelSelectClauseFactory;
    metadataProvider: IMetadataProvider;
}

// @beta
export interface ClassBasedLabelSelectClause {
    className: string;
    clause: (props: CreateInstanceLabelSelectClauseProps) => Promise<string>;
}

// @beta
export interface ClassGroupingNodeKey {
    // (undocumented)
    class: ClassInfo;
    // (undocumented)
    type: "class-grouping";
}

// @beta
export interface ClassInfo {
    id: Id64String;
    label: string;
    name: string;
}

// @beta (undocumented)
export interface LabelGroupingNodeKey {
    // (undocumented)
    labelInfo: LabelInfo;
    // (undocumented)
    type: "label-grouping";
}

// @beta (undocumented)
export interface LabelInfo {
    id: Id64String;
    label: string;
}

// @beta
export interface CreateInstanceLabelSelectClauseProps {
    classAlias: string;
    className?: string;
}

// @beta
export interface CustomHierarchyNodeDefinition {
    node: HierarchyNode;
}

// @beta
export interface CustomNodeChildHierarchyLevelDefinition {
    customParentNodeKey: string;
    definitions: (parentNode: HierarchyNode) => Promise<HierarchyLevelDefinition>;
}

// @beta
export class DefaultInstanceLabelSelectClauseFactory implements IInstanceLabelSelectClauseFactory {
    // (undocumented)
    createSelectClause(props: CreateInstanceLabelSelectClauseProps): Promise<string>;
}

// @beta
export interface ECClass extends ECSchemaItem {
    // (undocumented)
    is(className: string, schemaName: string): Promise<boolean>;
    // (undocumented)
    is(other: ECClass): Promise<boolean>;
}

// @beta
export interface ECSchema {
    // (undocumented)
    getClass(name: string): Promise<ECClass | undefined>;
    // (undocumented)
    name: string;
}

// @beta
export interface ECSchemaItem {
    // (undocumented)
    fullName: string;
    // (undocumented)
    label?: string;
    // (undocumented)
    name: string;
    // (undocumented)
    schema: ECSchema;
}

// @beta
export type ECSqlBinding = {
    type: "boolean";
    value?: boolean;
} | {
    type: "double" | "int" | "long";
    value?: number;
} | {
    type: "id";
    value?: Id64String;
} | {
    type: "idset";
    value?: Id64String[];
} | {
    type: "string";
    value?: string;
} | {
    type: "point2d";
    value?: {
        x: number;
        y: number;
    };
} | {
    type: "point3d";
    value?: {
        x: number;
        y: number;
        z: number;
    };
};

// @beta
export type ECSqlBindingType = "boolean" | "double" | "id" | "idset" | "int" | "long" | "string" | "point2d" | "point3d";

// @beta
export interface ECSqlQueryDef {
    bindings?: ECSqlBinding[];
    ctes?: string[];
    ecsql: string;
}

// @beta
export interface ECSqlQueryReader {
    // (undocumented)
    [Symbol.asyncIterator](): AsyncIterableIterator<ECSqlQueryRow>;
}

// @beta
export interface ECSqlQueryReaderOptions {
    // (undocumented)
    rowFormat: ECSqlQueryRowFormat;
}

// @beta
export interface ECSqlQueryRow {
    // (undocumented)
    [propertyName: string]: any;
    // (undocumented)
    [propertyIndex: number]: any;
    // (undocumented)
    toRow(): any;
}

// @beta
export type ECSqlQueryRowFormat = "ECSqlPropertyNames" | "Indexes";

// @beta
export interface ECSqlValueSelector {
    // (undocumented)
    selector: string;
}

// @beta
export function getLogger(): ILogger;

// @beta
export type HierarchyLevelDefinition = HierarchyNodesDefinition[];

// @beta
export interface HierarchyNode {
    // (undocumented)
    autoExpand?: boolean;
    // (undocumented)
    children: undefined | boolean | Array<HierarchyNode>;
    // (undocumented)
    extendedData?: {
        [key: string]: any;
    };
    // (undocumented)
    key: HierarchyNodeKey;
    // (undocumented)
    label: string;
    // (undocumented)
    params?: HierarchyNodeHandlingParams;
}

// @beta (undocumented)
export namespace HierarchyNode {
    export function isClassGroupingNode<TNode extends HierarchyNode>(node: TNode): node is TNode & {
        key: ClassGroupingNodeKey;
    };
    // (undocumented)
    export function isLabelGroupingNode<TNode extends HierarchyNode>(node: TNode): node is TNode & {
        key: LabelGroupingNodeKey;
    };
    // (undocumented)
    export function isCustom<TNode extends HierarchyNode>(node: TNode): node is TNode & {
        key: string;
    };
    export function isInstancesNode<TNode extends HierarchyNode>(node: TNode): node is TNode & {
        key: InstancesNodeKey;
    };
    export function isStandard<TNode extends HierarchyNode>(node: TNode): node is TNode & {
        key: StandardHierarchyNodeKey;
    };
}

// @beta (undocumented)
export interface HierarchyNodeHandlingParams {
    // (undocumented)
    groupByClass?: boolean;
    // (undocumented)
    groupByLabel?: boolean;
    // (undocumented)
    hideIfNoChildren?: boolean;
    // (undocumented)
    hideInHierarchy?: boolean;
    // (undocumented)
    mergeByLabelId?: string;
}

// @beta
export type HierarchyNodeIdentifier = InstanceKey | {
    key: string;
};

// @beta (undocumented)
export namespace HierarchyNodeIdentifier {
    export function equal(lhs: HierarchyNodeIdentifier, rhs: HierarchyNodeIdentifier): boolean;
    export function isCustomNodeIdentifier(id: HierarchyNodeIdentifier): id is {
        key: string;
    };
    export function isInstanceNodeIdentifier(id: HierarchyNodeIdentifier): id is InstanceKey;
}

// @beta
export type HierarchyNodeIdentifiersPath = HierarchyNodeIdentifier[];

// @beta
export type HierarchyNodeKey = StandardHierarchyNodeKey | string;

// @beta (undocumented)
export namespace HierarchyNodeKey {
    export function isClassGrouping(key: HierarchyNodeKey): key is ClassGroupingNodeKey;
    // (undocumented)
    export function isLabelGrouping(key: HierarchyNodeKey): key is LabelGroupingNodeKey;
    // (undocumented)
    export function isCustom(key: HierarchyNodeKey): key is string;
    export function isInstances(key: HierarchyNodeKey): key is InstancesNodeKey;
    export function isStandard(key: HierarchyNodeKey): key is StandardHierarchyNodeKey;
}

// @beta
export type HierarchyNodesDefinition = CustomHierarchyNodeDefinition | InstanceNodesQueryDefinition;

// @beta (undocumented)
export namespace HierarchyNodesDefinition {
    // (undocumented)
    export function isCustomNode(def: HierarchyNodesDefinition): def is CustomHierarchyNodeDefinition;
    // (undocumented)
    export function isInstanceNodesQuery(def: HierarchyNodesDefinition): def is InstanceNodesQueryDefinition;
}

// @beta (undocumented)
export class HierarchyProvider {
    constructor(props: HierarchyProviderProps);
    // (undocumented)
    getNodes(parentNode: HierarchyNode | undefined): Promise<HierarchyNode[]>;
}

// @beta (undocumented)
export interface HierarchyProviderProps {
    // (undocumented)
    filtering?: {
        paths: HierarchyNodeIdentifiersPath[];
    };
    // (undocumented)
    hierarchyDefinition: IHierarchyLevelDefinitionsFactory;
    // (undocumented)
    metadataProvider: IMetadataProvider;
    // (undocumented)
    queryExecutor: IECSqlQueryExecutor;
}

// @beta
export type Id64String = string;

// @beta
export interface IECSqlQueryExecutor {
    // (undocumented)
    createQueryReader(ecsql: string, bindings?: ECSqlBinding[], config?: ECSqlQueryReaderOptions): ECSqlQueryReader;
}

// @beta
export interface IHierarchyLevelDefinitionsFactory<TNode extends HierarchyNode = HierarchyNode> {
    defineHierarchyLevel(parentNode: HierarchyNode | undefined): Promise<HierarchyLevelDefinition>;
    parseNode?: INodeParser<TNode>;
    postProcessNode?: INodePostProcessor;
    preProcessNode?: INodePreProcessor;
}

// @beta
export interface IInstanceLabelSelectClauseFactory {
    createSelectClause(props: CreateInstanceLabelSelectClauseProps): Promise<string>;
}

// @beta
export interface ILogger {
    // (undocumented)
    logError: LogFunction;
    // (undocumented)
    logInfo: LogFunction;
    // (undocumented)
    logTrace: LogFunction;
    // (undocumented)
    logWarning: LogFunction;
}

// @beta
export interface IMetadataProvider {
    // (undocumented)
    getSchema(schemaName: string): Promise<ECSchema | undefined>;
}

// @beta
export type INodeParser<TNode extends HierarchyNode> = (row: {
    [columnName: string]: any;
}) => TNode;

// @beta
export type INodePostProcessor = (node: HierarchyNode) => HierarchyNode;

// @beta
export type INodePreProcessor = (node: HierarchyNode) => HierarchyNode | undefined;

// @beta
export interface InstanceKey {
    className: string;
    id: Id64String;
}

// @beta
export interface InstanceNodesQueryDefinition {
    fullClassName: string;
    query: ECSqlQueryDef;
}

// @beta
export interface InstancesNodeChildHierarchyLevelDefinition {
    definitions: (instanceIds: Id64String[], parentNode: HierarchyNode) => Promise<HierarchyLevelDefinition>;
    parentNodeClassName: string;
}

// @beta
export interface InstancesNodeKey {
    // (undocumented)
    instanceKeys: InstanceKey[];
    // (undocumented)
    type: "instances";
}

// @beta (undocumented)
export type LogFunction = (category: string, message: string) => void;

// @beta
export enum NodeSelectClauseColumnNames {
    AutoExpand = "AutoExpand",
    DisplayLabel = "DisplayLabel",
    ECInstanceId = "ECInstanceId",
    ExtendedData = "ExtendedData",
    FullClassName = "FullClassName",
    GroupByClass = "GroupByClass",
    GroupByLabel = "GroupByLabel",
    HasChildren = "HasChildren",
    HideIfNoChildren = "HideIfNoChildren",
    HideNodeInHierarchy = "HideNodeInHierarchy",
    MergeByLabelId = "MergeByLabelId"
}

// @beta
export class NodeSelectClauseFactory {
    // (undocumented)
    createSelectClause(props: NodeSelectClauseProps): Promise<string>;
}

// @beta
export interface NodeSelectClauseProps {
    // (undocumented)
    autoExpand?: boolean | ECSqlValueSelector;
    // (undocumented)
    ecClassId: Id64String | ECSqlValueSelector;
    // (undocumented)
    ecInstanceId: Id64String | ECSqlValueSelector;
    // (undocumented)
    extendedData?: {
        [key: string]: Id64String | string | number | boolean | ECSqlValueSelector;
    };
    // (undocumented)
    groupByClass?: boolean | ECSqlValueSelector;
    // (undocumented)
    groupByLabel?: boolean | ECSqlValueSelector;
    // (undocumented)
    hasChildren?: boolean | ECSqlValueSelector;
    // (undocumented)
    hideIfNoChildren?: boolean | ECSqlValueSelector;
    // (undocumented)
    hideNodeInHierarchy?: boolean | ECSqlValueSelector;
    // (undocumented)
    mergeByLabelId?: string | ECSqlValueSelector;
    // (undocumented)
    nodeLabel: string | ECSqlValueSelector;
}

// @beta
export function parseFullClassName(fullClassName: string): {
    schemaName: string;
    className: string;
};

// @beta
export function setLogger(logger: ILogger | undefined): void;

// @beta (undocumented)
export type StandardHierarchyNodeKey = InstancesNodeKey | ClassGroupingNodeKey | LabelGroupingNodeKey;

// (No @packageDocumentation comment for this package)

```
