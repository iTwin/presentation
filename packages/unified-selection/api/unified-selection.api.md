## API Report File for "@itwin/unified-selection"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ECClassHierarchyInspector } from '@itwin/presentation-shared';
import { ECSqlQueryExecutor } from '@itwin/presentation-shared';
import { Event as Event_2 } from '@itwin/presentation-shared';
import { Id64Arg } from '@itwin/core-bentley';
import { Id64Set } from '@itwin/core-bentley';
import { Id64String } from '@itwin/core-bentley';

// @public
export interface CachingHiliteSetProvider {
    [Symbol.dispose]?: () => void;
    // @deprecated
    dispose(): void;
    getHiliteSet(props: {
        imodelKey: string;
    }): AsyncIterableIterator<HiliteSet>;
}

// @public
interface CachingHiliteSetProviderProps {
    createHiliteSetProvider?: typeof createHiliteSetProvider;
    imodelProvider: (imodelKey: string) => ECClassHierarchyInspector & ECSqlQueryExecutor;
    selectionStorage: SelectionStorage;
}

// @public
export function computeSelection(props: ComputeSelectionProps): AsyncIterableIterator<SelectableInstanceKey>;

// @public
interface ComputeSelectionProps {
    elementIds: Id64Arg;
    queryExecutor: ECSqlQueryExecutor;
    scope: SelectionScope;
}

// @public
interface CoreIModelHiliteSet {
    clear(): void;
    readonly elements: Uint32Set;
    readonly models: Uint32Set;
    readonly subcategories: Uint32Set;
    wantSyncWithSelectionSet: boolean;
}

// @public
type CoreIModelSelectionSet = {
    onChanged: Event_2<(ev: CoreSelectionSetEventUnsafe) => void>;
    readonly elements: Set<string>;
    emptyAll(): void;
} & ({
    add(elem: Id64Arg): boolean;
    remove(elem: Id64Arg): boolean;
} | {
    readonly active: {
        [P in keyof CoreSelectableIds]-?: Id64Set;
    };
    add: (ids: Id64Arg | CoreSelectableIds) => boolean;
    remove: (ids: Id64Arg | CoreSelectableIds) => boolean;
});

// @public
interface CoreSelectableIds {
    // (undocumented)
    elements?: Id64Arg;
    // (undocumented)
    models?: Id64Arg;
    // (undocumented)
    subcategories?: Id64Arg;
}

// @public
interface CoreSelectionSetEventUnsafe {
    added?: Id64Arg;
    additions?: CoreSelectableIds;
    removals?: CoreSelectableIds;
    removed?: Id64Arg;
    set: CoreIModelSelectionSet;
    type: number;
}

// @public
export function createCachingHiliteSetProvider(props: CachingHiliteSetProviderProps): CachingHiliteSetProvider & {
    [Symbol.dispose]: () => void;
};

// @public
export function createHiliteSetProvider(props: HiliteSetProviderProps): HiliteSetProvider;

// @public
export function createStorage(): SelectionStorage;

// @public
export interface CustomSelectable {
    data: unknown;
    identifier: string;
    loadInstanceKeys: () => AsyncIterableIterator<SelectableInstanceKey>;
}

// @public
interface ElementSelectionScopeProps {
    ancestorLevel?: number;
    id: "element" | "functional";
}

// @public
export function enableUnifiedSelectionSyncWithIModel(props: EnableUnifiedSelectionSyncWithIModelProps): () => void;

// @public
interface EnableUnifiedSelectionSyncWithIModelProps {
    activeScopeProvider: () => SelectionScope;
    cachingHiliteSetProvider?: CachingHiliteSetProvider | (Omit<CachingHiliteSetProvider, "dispose"> & {
        [Symbol.dispose]: () => void;
    });
    imodelAccess: ECSqlQueryExecutor & ECClassHierarchyInspector & {
        readonly key: string;
        readonly hiliteSet: CoreIModelHiliteSet;
        readonly selectionSet: CoreIModelSelectionSet;
    };
    selectionStorage: SelectionStorage;
}

// @public
export interface HiliteSet {
    // (undocumented)
    elements: Id64String[];
    // (undocumented)
    models: Id64String[];
    // (undocumented)
    subCategories: Id64String[];
}

// @public
export interface HiliteSetProvider {
    getHiliteSet(props: {
        selectables: Selectables;
    }): AsyncIterableIterator<HiliteSet>;
}

// @public
interface HiliteSetProviderProps {
    imodelAccess: ECClassHierarchyInspector & ECSqlQueryExecutor;
}

// @public (undocumented)
type IModelKeyProp = {
    imodelKey: string;
} | {
    iModelKey: string;
};

// @public
export type Selectable = SelectableInstanceKey | CustomSelectable;

// @public (undocumented)
export namespace Selectable {
    export function isCustom(selectable: Selectable): selectable is CustomSelectable;
    export function isInstanceKey(selectable: Selectable | SelectableIdentifier): selectable is SelectableInstanceKey;
}

// @public
export type SelectableIdentifier = SelectableInstanceKey | Pick<CustomSelectable, "identifier">;

// @public
export interface SelectableInstanceKey {
    className: string;
    id: string;
}

// @public
export interface Selectables {
    custom: Map<string, CustomSelectable>;
    instanceKeys: Map<string, Set<Id64String>>;
}

// @public (undocumented)
export namespace Selectables {
    export function add(selectables: Selectables, values: Selectable[]): boolean;
    export function clear(selectables: Selectables): boolean;
    export function create(source: Selectable[]): Selectables;
    export function forEach(selectables: Selectables, callback: (selectable: Selectable, index: number) => void): void;
    export function has(selectables: Selectables, value: SelectableIdentifier): boolean;
    export function hasAll(selectables: Selectables, values: SelectableIdentifier[]): boolean;
    export function hasAny(selectables: Selectables, values: SelectableIdentifier[]): boolean;
    export function isEmpty(selectables: Selectables): boolean;
    export function load(selectables: Selectables): AsyncIterableIterator<SelectableInstanceKey>;
    export function remove(selectables: Selectables, values: Selectable[]): boolean;
    export function size(selectables: Selectables): number;
    export function some(selectables: Selectables, callback: (selectable: Selectable) => boolean): boolean;
}

// @public
export type SelectionScope = ElementSelectionScopeProps | {
    id: SelectionScopeIdentifier;
} | SelectionScopeIdentifier;

// @public
type SelectionScopeIdentifier = "element" | "model" | "category" | "functional";

// @public
export interface SelectionStorage {
    addToSelection(props: IModelKeyProp & {
        source: string;
        selectables: Selectable[];
        level?: number;
    }): void;
    clearSelection(props: IModelKeyProp & {
        source: string;
        level?: number;
    }): void;
    clearStorage(props: IModelKeyProp): void;
    getSelection(props: IModelKeyProp & {
        level?: number;
    }): Selectables;
    getSelectionLevels(props: IModelKeyProp): number[];
    removeFromSelection(props: IModelKeyProp & {
        source: string;
        selectables: Selectable[];
        level?: number;
    }): void;
    replaceSelection(props: IModelKeyProp & {
        source: string;
        selectables: Selectable[];
        level?: number;
    }): void;
    selectionChangeEvent: Event_2<StorageSelectionChangesListener>;
}

// @public
export interface StorageSelectionChangeEventArgs {
    changeType: StorageSelectionChangeType;
    // @deprecated
    iModelKey: string;
    imodelKey: string;
    level: number;
    selectables: Selectables;
    source: string;
    storage: SelectionStorage;
    timestamp: Date;
}

// @public
export type StorageSelectionChangesListener = (
args: StorageSelectionChangeEventArgs,
_?: any) => void;

// @public
export type StorageSelectionChangeType =
/** Added to selection. */
"add"
/** Removed from selection. */
| "remove"
/** Selection was replaced. */
| "replace"
/** Selection was cleared. */
| "clear";

// @public
export const TRANSIENT_ELEMENT_CLASSNAME = "/TRANSIENT";

// @public
interface Uint32Set {
    addIds(ids: Id64Arg): void;
    deleteIds(ids: Id64Arg): void;
}

// (No @packageDocumentation comment for this package)

```
